{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/carlosruiztorres/btraining-web/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\n\nconst globalForPrisma = global as unknown as { prisma: PrismaClient }\n\nexport const prisma =\n  globalForPrisma.prisma ||\n  new PrismaClient({\n    log: ['query'],\n  })\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AAEC,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,6IAAY,CAAC;IACf,KAAK;QAAC;KAAQ;AAChB;AAEF,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///Users/carlosruiztorres/btraining-web/lib/auth.ts"],"sourcesContent":["import { AuthOptions } from \"next-auth\"\nimport CredentialsProvider from \"next-auth/providers/credentials\"\nimport { PrismaAdapter } from \"@next-auth/prisma-adapter\"\nimport { prisma } from \"@/lib/prisma\"\nimport { compare } from \"bcryptjs\"\n\nexport const authOptions: AuthOptions = {\n  adapter: PrismaAdapter(prisma),\n  providers: [\n    CredentialsProvider({\n      name: 'Credentials',\n      credentials: {\n        email: { label: \"Email\", type: \"text\" },\n        password: { label: \"Password\", type: \"password\" }\n      },\n      async authorize(credentials) {\n        if (!credentials?.email || !credentials?.password) {\n          console.log(\"Missing credentials\")\n          return null\n        }\n        const user = await prisma.user.findUnique({\n          where: {\n            email: credentials.email\n          }\n        })\n\n        if (!user) {\n          console.log(\"User not found:\", credentials.email)\n          return null\n        }\n        \n        const isPasswordValid = await compare(credentials.password, user.password)\n\n        if (!isPasswordValid) {\n           console.log(\"Invalid password for user:\", credentials.email)\n           return null\n        }\n        return { id: user.id, name: user.name, email: user.email, role: user.role }\n      }\n    })\n  ],\n  session: {\n    strategy: \"jwt\"\n  },\n  pages: {\n    signIn: '/login',\n  },\n  callbacks: {\n      async jwt({ token, user }) {\n        if (user) {\n          token.role = user.role\n        }\n        return token\n      },\n      async session({ session, token }) {\n          if (session.user && token.sub) {\n              // @ts-ignore\n              session.user.id = token.sub;\n              // @ts-ignore\n              session.user.role = token.role;\n          }\n          return session;\n      }\n  },\n  secret: process.env.NEXTAUTH_SECRET,\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;;;;;AAEO,MAAM,cAA2B;IACtC,SAAS,IAAA,qLAAa,EAAC,uHAAM;IAC7B,WAAW;QACT,IAAA,mKAAmB,EAAC;YAClB,MAAM;YACN,aAAa;gBACX,OAAO;oBAAE,OAAO;oBAAS,MAAM;gBAAO;gBACtC,UAAU;oBAAE,OAAO;oBAAY,MAAM;gBAAW;YAClD;YACA,MAAM,WAAU,WAAW;gBACzB,IAAI,CAAC,aAAa,SAAS,CAAC,aAAa,UAAU;oBACjD,QAAQ,GAAG,CAAC;oBACZ,OAAO;gBACT;gBACA,MAAM,OAAO,MAAM,uHAAM,CAAC,IAAI,CAAC,UAAU,CAAC;oBACxC,OAAO;wBACL,OAAO,YAAY,KAAK;oBAC1B;gBACF;gBAEA,IAAI,CAAC,MAAM;oBACT,QAAQ,GAAG,CAAC,mBAAmB,YAAY,KAAK;oBAChD,OAAO;gBACT;gBAEA,MAAM,kBAAkB,MAAM,IAAA,4IAAO,EAAC,YAAY,QAAQ,EAAE,KAAK,QAAQ;gBAEzE,IAAI,CAAC,iBAAiB;oBACnB,QAAQ,GAAG,CAAC,8BAA8B,YAAY,KAAK;oBAC3D,OAAO;gBACV;gBACA,OAAO;oBAAE,IAAI,KAAK,EAAE;oBAAE,MAAM,KAAK,IAAI;oBAAE,OAAO,KAAK,KAAK;oBAAE,MAAM,KAAK,IAAI;gBAAC;YAC5E;QACF;KACD;IACD,SAAS;QACP,UAAU;IACZ;IACA,OAAO;QACL,QAAQ;IACV;IACA,WAAW;QACP,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACvB,IAAI,MAAM;gBACR,MAAM,IAAI,GAAG,KAAK,IAAI;YACxB;YACA,OAAO;QACT;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC5B,IAAI,QAAQ,IAAI,IAAI,MAAM,GAAG,EAAE;gBAC3B,aAAa;gBACb,QAAQ,IAAI,CAAC,EAAE,GAAG,MAAM,GAAG;gBAC3B,aAAa;gBACb,QAAQ,IAAI,CAAC,IAAI,GAAG,MAAM,IAAI;YAClC;YACA,OAAO;QACX;IACJ;IACA,QAAQ,QAAQ,GAAG,CAAC,eAAe;AACrC"}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":["file:///Users/carlosruiztorres/btraining-web/app/actions.ts"],"sourcesContent":["'use server'\n\nimport { prisma } from \"@/lib/prisma\"\nimport { revalidatePath } from \"next/cache\"\nimport { getServerSession } from \"next-auth\"\nimport { redirect } from \"next/navigation\"\nimport { hash } from \"bcryptjs\"\nimport { authOptions } from \"@/lib/auth\"\n\nexport async function createExercise(formData: FormData) {\n  const name = formData.get(\"name\") as string\n  const category = formData.get(\"category\") as string\n  const description = formData.get(\"description\") as string\n\n  if (!name) return { error: \"Name is required\" }\n\n  try {\n    await prisma.exercise.create({\n      data: {\n        name,\n        category,\n        description,\n      },\n    })\n\n    revalidatePath(\"/exercises\")\n    return { success: true }\n  } catch (error) {\n    console.error(\"Failed to create exercise:\", error)\n    return { error: \"Failed to create exercise\" }\n  }\n}\n\nexport async function logExercise(formData: FormData) {\n  const session = await getServerSession(authOptions)\n  if (!session || !session.user?.email) {\n    return\n  }\n\n  const user = await prisma.user.findUnique({\n    where: { email: session.user.email }\n  })\n\n  if (!user) return\n\n  const exerciseId = formData.get(\"exerciseId\") as string\n  const weight = parseFloat(formData.get(\"weight\") as string)\n  const reps = parseInt(formData.get(\"reps\") as string)\n  const sets = parseInt(formData.get(\"sets\") as string)\n  const date = new Date(formData.get(\"date\") as string || Date.now())\n\n  if (!exerciseId || isNaN(weight) || isNaN(reps) || isNaN(sets)) return\n\n  await prisma.exerciseLog.create({\n    data: {\n      userId: user.id,\n      exerciseId,\n      weight,\n      reps,\n      sets,\n      date,\n    },\n  })\n\n  revalidatePath(\"/dashboard\")\n}\n\nexport async function registerUser(formData: FormData) {\n  const name = formData.get(\"name\") as string\n  const email = formData.get(\"email\") as string\n  const password = formData.get(\"password\") as string\n\n  if (!email || !password) return { error: \"Email and password are required\" }\n\n  const existingUser = await prisma.user.findUnique({\n    where: { email }\n  })\n\n  if (existingUser) {\n    return { error: \"User already exists\" }\n  }\n\n  const hashedPassword = await hash(password, 10)\n\n  await prisma.user.create({\n    data: {\n      name,\n      email,\n      password: hashedPassword,\n    }\n  })\n\n  redirect(\"/login\")\n}\n\nexport async function deleteUser(userId: string) {\n  const session = await getServerSession(authOptions)\n  if (session?.user?.role !== 'ADMIN') return\n\n  // Delete all logs first\n  await prisma.exerciseLog.deleteMany({\n    where: { userId }\n  })\n\n  await prisma.user.delete({\n    where: { id: userId }\n  })\n\n  revalidatePath(\"/admin\")\n}\n\nexport async function deleteExercise(exerciseId: string) {\n  const session = await getServerSession(authOptions)\n  if (session?.user?.role !== 'ADMIN') return\n\n  // Delete all logs associated with this exercise\n  await prisma.exerciseLog.deleteMany({\n    where: { exerciseId }\n  })\n\n  await prisma.exercise.delete({\n    where: { id: exerciseId }\n  })\n\n  revalidatePath(\"/admin\")\n  revalidatePath(\"/exercises\")\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 325, "column": 0}, "map": {"version":3,"sources":["file:///Users/carlosruiztorres/btraining-web/.next-internal/server/app/dashboard/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {logExercise as '408897ea7a0b8912ec7d0cb55c9f980527fddccca9'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}